<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Data Table</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
  th { cursor: pointer; }
  .active-sort { color: #4f46e5; font-weight: bold; }
</style>
</head>

<body class="bg-gray-100 min-h-screen p-6 flex justify-center items-center">

<div class="bg-white shadow-2xl rounded-3xl p-8 w-full max-w-6xl">

  <h2 class="text-3xl font-bold text-gray-900 mb-6">User Data Table</h2>

  <!-- Header controls -->
  <div class="flex flex-col md:flex-row gap-4 md:items-center md:justify-between mb-6">
    <input id="searchInput" type="text" placeholder="Search..."
           class="w-full md:w-72 px-4 py-2 border rounded-xl focus:ring-2 focus:ring-indigo-600 outline-none" />
  </div>

  <!-- Table -->
  <div class="overflow-x-auto rounded-xl border">
    <table class="w-full min-w-[600px]">
      <thead class="bg-indigo-600 text-white">
        <tr>
          <th class="py-3 px-6 text-left" data-col="name">Name</th>
          <th class="py-3 px-6 text-left" data-col="email">Email</th>
          <th class="py-3 px-6 text-left" data-col="role">Role</th>
          <th class="py-3 px-6 text-left" data-col="status">Status</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center mt-6">
    <p id="pageInfo" class="text-gray-600 text-sm"></p>

    <div class="flex gap-2">
      <button id="prevPage" class="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400">Prev</button>
      <button id="nextPage" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Next</button>
    </div>
  </div>

</div>

<script>
  // DATA
  const tableData = [
    { name:"Sohail Akhtar", email:"sohail@example.com", role:"Admin", status:"Active" },
    { name:"Ali Raza", email:"ali@example.com", role:"Manager", status:"Pending" },
    { name:"Sarah Khan", email:"sarah@example.com", role:"User", status:"Inactive" },
    { name:"Ayaan Malik", email:"ayaan@example.com", role:"User", status:"Active" },
    { name:"Imran Ali", email:"imran@example.com", role:"Editor", status:"Active" },
    { name:"Hina Shah", email:"hina@example.com", role:"User", status:"Pending" },
    { name:"Zara Noor", email:"zara@example.com", role:"Admin", status:"Inactive" },
    { name:"Usman Khan", email:"usman@example.com", role:"Editor", status:"Active" },
  ];

  let filteredData = [...tableData];
  let currentPage = 1;
  const rowsPerPage = 4;
  let currentSort = { col: null, asc: true };

  const tableBody = document.getElementById("tableBody");
  const searchInput = document.getElementById("searchInput");
  const pageInfo = document.getElementById("pageInfo");

  function displayTable() {
    tableBody.innerHTML = "";
    const start = (currentPage - 1) * rowsPerPage;
    const pageRows = filteredData.slice(start, start + rowsPerPage);

    pageRows.forEach(row => {
      const tr = document.createElement("tr");
      tr.className = "border-b hover:bg-gray-50 transition";
      tr.innerHTML = `
        <td class="py-3 px-6 font-semibold">${row.name}</td>
        <td class="py-3 px-6">${row.email}</td>
        <td class="py-3 px-6">${row.role}</td>
        <td class="py-3 px-6">
          <span class="px-3 py-1 rounded-full text-sm 
            ${row.status==="Active" ? "bg-green-100 text-green-700" :
              row.status==="Pending" ? "bg-yellow-100 text-yellow-700" :
                                       "bg-red-100 text-red-700"}">
            ${row.status}
          </span>
        </td>`;
      tableBody.appendChild(tr);
    });

    pageInfo.textContent = `Page ${currentPage} of ${Math.ceil(filteredData.length / rowsPerPage)}`;
  }

  function searchTable() {
    const val = searchInput.value.toLowerCase();
    filteredData = tableData.filter(row =>
      Object.values(row).some(v => v.toLowerCase().includes(val))
    );
    currentPage = 1;
    displayTable();
  }

  function sortTable(col) {
    const asc = currentSort.col === col ? !currentSort.asc : true;
    filteredData.sort((a,b) =>
      a[col] > b[col] ? (asc ? 1 : -1) : (asc ? -1 : 1)
    );
    currentSort = { col, asc };
    displayTable();
  }

  document.querySelectorAll("th").forEach(th => {
    th.addEventListener("click", () => sortTable(th.dataset.col));
  });

  document.getElementById("prevPage").addEventListener("click", () => {
    if (currentPage > 1) currentPage--;
    displayTable();
  });

  document.getElementById("nextPage").addEventListener("click", () => {
    if (currentPage < filteredData.length / rowsPerPage) currentPage++;
    displayTable();
  });

  searchInput.addEventListener("input", searchTable);

  displayTable();
</script>

</body>
</html>
